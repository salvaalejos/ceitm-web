@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {

    /* 1. INPUTS Y SELECTS (Estilo "Deep Slate") */
    .form-input {
        @apply w-full px-4 py-3 rounded-xl border outline-none transition-all duration-200;

        /* Light Mode */
        @apply bg-white border-gray-200 text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-guinda-500/20 focus:border-guinda-500;

        /* Dark Mode: Fondo muy oscuro (casi negro) para que contraste con la tarjeta gris */
        @apply dark:bg-slate-950 dark:border-slate-700 dark:text-slate-200 dark:placeholder-slate-500 dark:focus:border-guinda-500;
    }

    /* 2. ETIQUETAS (Labels) - Elegantes y legibles */
    .form-label {
        @apply block text-xs font-bold mb-2 uppercase tracking-wider;
        @apply text-gray-500 dark:text-slate-400; /* Gris medio, no blanco charol */
    }

    /* 3. CHECKBOX TEXTO */
    .form-check-label {
        @apply font-medium cursor-pointer select-none text-sm;
        @apply text-gray-700 dark:text-slate-300; /* Gris suave */
    }

    /* 4. BOTONES */
    .btn-primary {
        @apply px-6 py-2.5 bg-guinda-600 text-white font-bold rounded-xl transition-all duration-200;
        /* Sombra sutil negra, NUNCA blanca */
        @apply shadow-md shadow-black/20 hover:shadow-lg hover:shadow-black/30;
        @apply hover:bg-guinda-700 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-secondary {
        @apply px-6 py-2.5 font-medium rounded-xl border transition-all duration-200;
        /* Light */
        @apply bg-white text-gray-700 border-gray-300 hover:bg-gray-50;
        /* Dark: Transparente con borde sutil */
        @apply dark:bg-transparent dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-800 dark:hover:text-white;
    }

    /* 5. TARJETAS / MODALES (El fondo principal del modal) */
    .card-base {
        @apply bg-white dark:bg-slate-900 rounded-2xl shadow-2xl;
        @apply border border-gray-100 dark:border-slate-800;
    }

    /* 6. HEADER DEL MODAL */
    .modal-header {
        @apply flex justify-between items-center p-6 border-b border-gray-100 dark:border-slate-800;
    }

    /* 7. FOOTER DEL MODAL */
    .modal-footer {
        @apply p-6 border-t border-gray-100 dark:border-slate-800 flex justify-end gap-3 bg-gray-50 dark:bg-slate-900/50 rounded-b-2xl;
    }
}

/* Scrollbar oscura integrada */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    @apply bg-transparent;
}
::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-slate-700 rounded-full;
}
::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-slate-600;
}

/* =========================================
   ESTILOS DEL PONYMAP (SVG)
   ========================================= */

/* Estilo Base de los Edificios */
.map-building {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  vector-effect: non-scaling-stroke; /* Para que el borde no se engrose al hacer zoom */
}

/* Modo Claro (Default) */
.map-ground { fill: #f1f5f9; } /* Slate-100 */
.map-road { stroke: #cbd5e1; stroke-width: 15px; fill: none; } /* Slate-300 */
.map-building { fill: #e2e8f0; stroke: #94a3b8; stroke-width: 2px; } /* Slate-200 / 400 */
.map-building:hover { fill: #cbd5e1; transform: translateY(-2px); filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }
.map-building.active { fill: #9f1239; stroke: #881337; } /* Rose-800 */
.map-green-area { fill: #dcfce7; opacity: 0.6; } /* Green-100 */
.map-text { fill: #475569; font-weight: 600; font-size: 14px; pointer-events: none; }

/* Modo Oscuro (Dark Class) */
.dark .map-ground { fill: #0f172a; } /* Slate-900 */
.dark .map-road { stroke: #1e293b; } /* Slate-800 */
.dark .map-building { fill: #1e293b; stroke: #475569; } /* Slate-800 / 600 */
.dark .map-building:hover { fill: #334155; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5)); }
.dark .map-building.active { fill: #be123c; stroke: #e11d48; } /* Rose-700 */
.dark .map-green-area { fill: #14532d; opacity: 0.3; } /* Green-900 */
.dark .map-text { fill: #cbd5e1; }